{% extends 'base.html' %}
{% load static %}
{% block css %}
    <link rel="stylesheet" href="{% static 'art/css/list.css' %}">
{% endblock %}

{% block content %}
    <div id="tag_nav">
        <b>标签分类:</b>
        <a href="/art/index/" {% if tag_id == 0 %}class="tag_all" {% endif %}>所有</a>
        {% for tag in tags %}
            <a {% if tag_id == tag.id %}
                class='tag_all'
            {% endif %} href="/art/index/?tag={{ tag.id }}">{{ tag.title }}</a>
        {% endfor %}
    </div>
    <ul>
        {% for art in arts %}
            <li>
                <dl>
                    <dt><img src="/static/art_ups/{{ art.image }}" alt="" width="200" height="240"></dt>
                    <dd>
                        <label>{{ art.title }}</label>
                        <label>作者: {{ art.author }}</label>
                        <label>分类: {{ art.tags.title }}</label>
                    </dd>
                    <dd>
                        <button>阅读</button>
                    </dd>
                </dl>
            </li>
        {% endfor %}
    </ul>
{#     <!--div class="paginator">#}
{#        {% if page.has_previous %}#}
{#            <a href="/art/index/?tag={{ tag_id }}&page={{ page.previous_page_number }}">上一页</a>#}
{#        {% endif %}#}
{#        {% for i in pageRange %}#}
{#            {% if i == page.number %}#}
{#                <a class="active" href="/art/index/?tag={{ tag_id }}&page={{ i }}">{{ i }}</a>#}
{#            {% else %}#}
{#                <a href="/art/index/?tag={{ tag_id }}&page={{ i }}">{{ i }}</a>#}
{#            {% endif %}#}
{#        {% endfor %}#}
{#        {% if page.has_next %}#}
{#            <a href="/art/index/?tag={{ tag_id }}&page={{ page.next_page_number }}">下一页</a>#}
{#        {% endif %}#}
{#    </div--> #}
    <nav aria-label="Page navigation">
        <ul class="pagination paginator">
            {% if page.has_previous %}
            <li>
                <a href="/art/index/?tag={{ tag_id }}&page={{ page.previous_page_number }}" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                </a>
            </li>
            {% endif %}
            {% for i in pageRange %}
            <li><a {% if i == page.number %}class="active"{% endif %} href="/art/index/?tag={{ tag_id }}&page={{ i }}">{{ i }}</a></li>
            {% endfor %}
            {% if page.has_next %}
            <li>
                <a href="/art/index/?tag={{ tag_id }}&page={{ page.next_page_number }}" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                </a>
            </li>
            {% endif %}
        </ul>
    </nav>
{% endblock %}

{% block js %}
    <script>
        function search() {
            var searchDOM = document.getElementById('searchkey')
            if (searchDOM.value.trim().length == 0) {
                alert('请输入搜索内容');
            } else {
                document.forms[0].submit();
            }
        }
    </script>
{% endblock %}

